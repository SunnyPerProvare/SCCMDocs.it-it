---
title: Variabili predefinite della sequenza di attività
titleSuffix: Configuration Manager
description: Le variabili predefinite della sequenza di attività offrono informazioni sull'ambiente in cui è in esecuzione la sequenza di attività. Sono disponibili nel corso dell'intera sequenza di attività.
ms.custom: na
ms.date: 04/18/2018
ms.prod: configuration-manager
ms.reviewer: na
ms.suite: na
ms.technology:
- configmgr-osd
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 02bc6bd4-ca53-4e22-8b80-d8ee5fe72567
caps.latest.revision: 15
caps.handback.revision: 0
author: aczechowski
ms.author: aaroncz
manager: dougeby
ms.openlocfilehash: fe26982195e7cae639cc457dbba31e3dbd45b6d3
ms.sourcegitcommit: e23350fe65ff99228274e465b24b5e163769f38f
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 04/20/2018
---
# <a name="task-sequence-built-in-variables-in-system-center-configuration-manager"></a>Variabili predefinite della sequenza di attività in System Center Configuration Manager

*Si applica a: System Center Configuration Manager (Current Branch)*


 Le variabili predefinite della sequenza di attività sono disponibili in System Center Configuration Manager. Le variabili predefinite forniscono informazioni sull'ambiente in cui è in esecuzione la sequenza di attività e i relativi valori sono disponibili nell'intera sequenza di attività. Le variabili predefinite in genere vengono inizializzate prima dell'esecuzione dei passaggi nella sequenza di attività. Ad esempio, la variabile predefinita **_SMSTSLogPath** è una variabile di ambiente che specifica il percorso usato dai componenti di Configuration Manager per scrivere file di log. Qualsiasi passaggio della sequenza di attività può accedere a questa variabile di ambiente. La sequenza di attività valuta tuttavia alcune variabili, ad esempio **&#95;SMSTSCurrentActionName**, prima di ogni passaggio. I valori vengono letti solo per le variabili predefinite con un nome che inizia con un carattere di sottolineatura.  

## <a name="task-sequence-built-in-variable-list"></a>Elenco di variabili predefinite della sequenza di attività  
 Nell'elenco seguente vengono descritte le variabili predefinite disponibili in Configuration Manager:  

|Nome della variabile predefinita|Descrizione|  
|-----------------------------|-----------------|  
|_OSDDetectedWinDir|La sequenza di attività esegue l'analisi dei dischi rigidi del computer per cercare una precedente installazione del sistema operativo all'avvio di Windows PE. Il percorso della cartella Windows viene archiviato nella variabile. È possibile configurare la sequenza di attività in modo da recuperare questo valore dall'ambiente e usarlo per specificare lo stesso percorso di cartella di Windows da usare per la nuova installazione del sistema operativo.|  
|_OSDDetectedWinDrive|La sequenza di attività esegue l'analisi dei dischi rigidi del computer per cercare una precedente installazione del sistema operativo all'avvio di Windows PE. Il percorso dell'unità disco rigido in cui è installato il sistema operativo viene archiviato nella variabile. È possibile configurare la sequenza di attività in modo da recuperare questo valore dall'ambiente e usarlo per specificare lo stesso percorso del disco rigido da usare per il nuovo sistema operativo.|  
|_SMSTSAdvertID|Archivia l'ID univoco di distribuzione della sequenza di attività. Usa lo stesso formato di un ID di distribuzione software di Configuration Manager. Se la sequenza di attività viene eseguita da un supporto autonomo, la variabile non è definita.<br /><br /> Esempio:<br /><br /> **ABC20001**|  
|_TSAppInstallStatus|La sequenza di attività imposta la variabile _TSAppInstallStatus con lo stato di installazione dell'applicazione durante il passaggio [Installa applicazione](task-sequence-steps.md#BKMK_InstallApplication). La sequenza di attività imposta la variabile su uno dei seguenti valori:<br /><br /> 1. **Non definita**: il passaggio Installa applicazione non è stata eseguito.<br />2. **Errore**: non è possibile eseguire almeno un'applicazione a causa di un errore durante il passaggio Installa applicazione.<br />3. **Avviso**: non si verificano errori durante il passaggio Installa applicazione. Una o più applicazioni oppure una dipendenza necessaria non è stata installata perché un requisito non è stato soddisfatto.<br />4. **Riuscita**: impostato quando non vengono rilevati errori o avvisi durante il passaggio Installa applicazione.|  
|_SMSTSBootImageID|Se la sequenza di attività attualmente in esecuzione fa riferimento a un pacchetto dell'immagine d'avvio, questa variabile archivia l'ID del pacchetto dell'immagine d'avvio. Se la sequenza di attività non fa riferimento a un pacchetto dell'immagine d'avvio, questa variabile non viene impostata.<br /><br /> Esempio:<br /><br /> **ABC00001**|  
|_SMSTSBootUEFI|La sequenza di attività imposta la variabile SMSTSBootUEFI quando rileva un computer in modalità UEFI.|  
|_SMSTSClientGUID|Archivia il valore del GUID del client di Configuration Manager. Questa variabile non è impostata se la sequenza di attività viene eseguita da un supporto autonomo.<br /><br /> Esempio:<br /><br /> **0a1a9a4b-fc56-44f6-b7cd-c3f8ee37c04c**|  
|_SMSTSCurrentActionName|Specifica il nome del passaggio della sequenza di attività attualmente in esecuzione. Questa variabile viene impostata prima che il motore di esecuzione della sequenza di attività esegua ogni singolo passaggio.<br /><br /> Esempio:<br /><br /> **esegui riga di comando**|  
|_SMSTSDownloadOnDemand|Se la sequenza di attività corrente è in esecuzione in modalità di download su richiesta, questa variabile è **true**. La modalità di download su richiesta indica che il motore di esecuzione della sequenza di attività scarica il contenuto localmente solo quando deve accedere al contenuto.|  
|_SMSTSInWinPE|Quando il passaggio della sequenza di attività corrente è in esecuzione in Windows PE, questa variabile è **true**. Testare questa variabile della sequenza di attività per determinare l'ambiente del sistema operativo corrente.|  
|_SMSTSLastActionRetCode|Archivia il codice restituito che è stato restituito dall'ultima azione eseguita. Questa variabile può essere usata come condizione per determinare se il passaggio successivo viene eseguito.<br /><br /> Esempio:<br /><br /> **0**|  
|_SMSTSLastActionSucceeded|Se l'ultimo passaggio è riuscito, questa variabile è **true**. Se l'ultimo passaggio non è riuscito, è **false**. Se la sequenza di attività ha ignorato l'ultima azione, perché il passaggio è disabilitato o la condizione associata ha restituito **false**, questa variabile non viene reimpostata. Mantiene ancora il valore dell'azione precedente.|  
|_SMSTSLaunchMode|Specifica uno dei metodi di avvio della sequenza di attività seguenti:<br /><br /> -   **SMS**: la sequenza di attività è stata avviata dal client Configuration Manager<br />-   **UFD**: la sequenza di attività è stata avviata da supporti USB legacy<br />-   **UFD+FORMAT**: la sequenza di attività è stata avviata da supporti USB più recenti<br />-   **CD**: la sequenza di attività è stata avviata da un CD<br />-   **DVD**: la sequenza di attività è stata avviata da un DVD<br />-   **PXE**: la sequenza di attività è stata avviata da PXE<br />-   **HD**: la sequenza di attività è stata avviata da supporti pre-installati in un disco rigido|  
|_SMSTSLogPath|Archivia il percorso completo della directory di log. Usare questo valore per determinare la posizione in cui sono registrate le azioni. Questo valore non è impostato quando non è disponibile un disco rigido.|  
|_SMSTSMachineName|Archivia e specifica il nome del computer. Archivia il nome del computer che viene usato dalla sequenza di attività per registrare tutti i messaggi di stato. Per modificar il nome computer nel nuovo sistema operativo, usare la variabile **OSDComputerName** .<br /><br /> Esempio:<br /><br /> **ABC**|  
|_SMSTSMDataPath|Specifica il percorso definito dalla variabile SMSTSLocalDataDrive. Quando si definisce SMSTSLocalDataDrive prima dell'inizio della sequenza di attività, impostando ad esempio una variabile di raccolta, Configuration Manager definisce la variabile _SMSTSMDataPath dopo aver avviato la sequenza di attività.|  
|_SMSTSMediaType|Specifica il tipo di supporto usato per avviare l'installazione. Esempi di tipi di supporto sono supporti di avvio, supporti completi, PXE e supporti pre-installati.|  
|_SMSTSMP|Archivia l'URL o l'indirizzo IP di un punto di gestione di Configuration Manager.|  
|_SMSTSMPPort|Archivia il numero di porta di un punto di gestione di Configuration Manager.<br /><br /> Esempio:<br /><br /> **80**|  
|_SMSTSOrgName|Archivia il nome titolo personalizzazione visualizzato dalla sequenza di attività nella finestra di dialogo relativa all'avanzamento.<br /><br /> Esempio:<br /><br /> **Organizzazione XYZ**|  
|_SMSTSOSUpgradeActionReturnCode|Archivia il valore del codice di uscita restituito da Installazione di Windows per indicare l'esito positivo o negativo. Questa variabile viene impostata durante il passaggio della sequenza di attività [Aggiorna sistema operativo](task-sequence-steps.md#BKMK_UpgradeOS). Questa variabile è utile con l'opzione della riga di comando /Compat.<br /><br /> Esempio:<br /><br /> Nei passaggi successivi al completamento di /Compat eseguire un'azione diversa a seconda del codice di uscita (esito positivo o negativo) di questa opzione. In caso di esito positivo avviare l'aggiornamento oppure impostare un marcatore nell'ambiente (ad esempio, aggiungere un file o impostare una chiave del Registro di sistema) per la raccolta con l'inventario hardware. Usare questo marcatore per creare una raccolta di computer pronti per l'aggiornamento o da sottoporre a un'azione specifica prima dell'aggiornamento.|  
|_SMSTSPackageID|Archivia l'ID della sequenza di attività in esecuzione. L'ID usa lo stesso formato dell'ID del pacchetto software di Configuration Manager.<br /><br /> Esempio:<br /><br /> **HJT00001**|  
|_SMSTSPackageName|Archivia il nome della sequenza di attività attualmente in esecuzione specificato dall'amministratore di Configuration Manager quando viene creata la sequenza di attività.<br /><br /> Esempio:<br /><br /> **Distribuire la sequenza di attività di Windows 10**|  
|_SMSTSSetupRollback|Specifica se il programma di installazione del sistema operativo ha eseguito un'operazione di rollback. I valori possibili della variabile sono **true** e **false**.|  
|_SMSTSRunFromDP|Impostare su **true** se la sequenza di attività corrente è in esecuzione in modalità di esecuzione da punto di distribuzione, cioè il motore di esecuzione della sequenza di attività ottiene le condivisioni pacchetto richieste dal punto di distribuzione.|  
|_SMSTSSiteCode|Archivia il codice del sito nel sito di Configuration Manager.<br /><br /> Esempio:<br /><br /> **ABC**|  
|_SMSTSType|Specifica il tipo di sequenza di attività attualmente in esecuzione. Se son presenti i seguenti valori:<br /><br /> **1** : indica una sequenza di attività generiche.<br /><br /> **2** : indica una sequenza di attività di distribuzione del sistema operativo.|  
|_SMSTSTimezone|La variabile _SMSTSTimezone archivia le informazioni sul fuso orario nel seguente formato (senza spazi):<br /><br /> Bias, StandardBias, DaylightBias, StandardDate.wYear, wMonth, wDayOfWeek, wDay, wHour, wMinute, wSecond, wMilliseconds, DaylightDate.wYear, wMonth, wDayOfWeek, wDay, wHour, wMinute, wSecond, wMilliseconds, StandardName, DaylightName<br /><br /> Esempio:<br /><br /> Per l'orario della costa orientale degli Stati Uniti e del Canada, il valore sarà **300,0,-60,0,11,0,1,2,0,0,0,0,3,0,2,2,0,0,0,Ora solare fuso orientale,Ora legale fuso orientale**|  
|_SMSTSUseCRL|Quando la sequenza di attività usa HTTPS per comunicare con il punto di gestione, specifica se usa l'elenco di revoche di certificati (CRL).|  
|_SMSTSUserStarted|Specifica se una sequenza di attività viene avviata da un CD. Questa variabile viene impostata solo se la sequenza di attività viene eseguita da Software Center. Ad esempio, se **_SMSTSLaunchMode** è impostato su **SMS**, la variabile può avere i seguenti valori:<br /><br /> -   **true** : specifica che la sequenza di attività viene eseguita manualmente da un utente da Software Center.<br />-   **false**: specifica che la sequenza di attività viene avviata automaticamente dall'utilità di pianificazione di Configuration Manager.|  
|_SMSTSUseSSL|Specifica se la sequenza di attività usa SSL per comunicare con il punto di gestione di Configuration Manager. Se il sito è in esecuzione in modalità nativa, il valore è impostato su **true**.|  
|_SMSTSWTG|specifica se il computer è in esecuzione come dispositivo Windows To Go.|  
|OSDPreserveDriveLetter|Questa variabile della sequenza di attività è deprecata. Durante la distribuzione del sistema operativo, per impostazione predefinita l'installazione di Windows stabilisce qual è la lettera di unità migliore da usare (in genere C:). <br /><br />Comportamento precedente: quando si applica un'immagine, la variabile OSDPreverveDriveLetter determina se la sequenza di attività usa la lettera di unità acquisita nel file di immagine (WIM). Impostare il valore per questa variabile su **False** per usare il percorso specificato per l'impostazione **Destinazione** nel passaggio **Applica sistema operativo**. Per altre informazioni, vedere [Apply Operating System Image](task-sequence-steps.md#BKMK_ApplyOperatingSystemImage).|  
|SMSTSAssignmentsDownloadInterval|Numero di secondi di attesa prima che il client provi a eseguire il tentativo di download dei criteri dopo l'ultimo tentativo che non ha restituito alcun criterio. Per impostazione predefinita, il client attende **0** secondi prima di riprovare.<br /><br /> È possibile impostare questa variabile usando un comando di preavvio da un supporto o da PXE.|  
|SMSTSAssignmentsDownloadRetry|Numero di tentativi di download dei criteri da parte del client dopo che non è stato rilevato alcun criterio durante il primo tentativo. Per impostazione predefinita, il client riprova **0** volte.<br /><br /> È possibile impostare questa variabile usando un comando di preavvio da un supporto o da PXE.|  
|SMSTSAssignUsersMode|Specifica in che modo una sequenza di attività associa gli utenti al computer di destinazione. Impostare la variabile su uno dei seguenti valori:<br /><br /> -   **Auto**: la sequenza di attività crea una relazione tra gli utenti specificati e il computer di destinazione quando distribuisce il sistema operativo nel computer di destinazione.<br />-   **In sospeso**: la sequenza di attività crea una relazione tra gli utenti specificati e il computer di destinazione. Un amministratore deve approvare la relazione per impostarla.<br />-   **Disattivata**: la sequenza di attività non associa gli utenti al computer di destinazione quando distribuisce il sistema operativo.|  
|SMSTSDownloadAbortCode|Questa variabile contiene il valore del codice di interruzione per il downloader del programma esterno (specificato nella variabile SMSTSDownloadProgram). Se il programma restituisce un codice di errore uguale al valore della variabile SMSTSDownloadAbortCode, il download del contenuto ha esito negativo e non viene tentato alcun altro metodo di download.
|SMSTSDownloadProgram|Usare questa variabile per specificare un provider di contenuto alternativo, un programma downloader usato per scaricare il contenuto al posto del downloader predefinito di Configuration Manager. Durante il processo di download di contenuto, la sequenza di attività verifica se nella variabile è indicato un programma downloader specificato. Se specificato, la sequenza di attività esegue il programma per eseguire il download.|  
|SMSTSDownloadRetryCount|Numero di tentativi eseguiti da Configuration Manager per scaricare contenuto da un punto di distribuzione. Per impostazione predefinita, il client riprova **2** volte.|  
|SMSTSDownloadRetryDelay|Numero di secondi di attesa prima che Configuration Manager provi a scaricare il contenuto da un punto di distribuzione. Per impostazione predefinita, il client attende **15** secondi prima di riprovare.|
|SMSTSDriverReceiveTimeOut|Numero di secondi prima del timeout della connessione al server.|
|SMSTSErrorDialogTimeout|Quando si verifica un errore nella sequenza di attività, viene visualizzata una finestra di dialogo con l'errore. La sequenza di attività la ignora automaticamente dopo il numero di secondi specificato da questa variabile. Per impostazione predefinita, questo valore è pari a **900** secondi (15 minuti).|  
| TSDisableProgressUI | <!-- 1354291 --> A partire da Configuration Manager versione 1706 usare questa variabile per determinare se lo stato della sequenza di attività viene visualizzato agli utenti finali. Per nascondere o visualizzare lo stato in momenti diversi, impostare questa variabile più volte in una sequenza di attività. Per nascondere lo stato della sequenza di attività impostare il valore di questa variabile su **True**. Per visualizzare lo stato della sequenza di attività impostare il valore di questa variabile su **False**. | 
| SMSTSDisableStatusRetry | <!--512358--> Negli scenari disconnessi il motore di esecuzione della sequenza di attività prova ripetutamente a inviare messaggi di stato al punto di gestione. Questo comportamento in questo scenario causa ritardi nell'elaborazione della sequenza di attività. A partire da Configuration Manager versione 1802, impostare questa variabile su **True** per evitare che il motore di esecuzione della sequenza di attività provi a mandare di nuovo i messaggi di stato dopo il primo errore. Questo comportamento persiste fino al riavvio successivo o finché il valore di questa variabile non viene impostato su **False**. NOTA: la [creazione di report sullo stato della sequenza di attività](/sccm/core/servers/manage/list-of-reports#task-sequence---deployment-status) si basa su questi messaggi di stato per la visualizzazione dell'avanzamento, della cronologia e dei dettagli di ogni passaggio. | 
|SMSTSLanguageFolder|usare questa variabile per modificare la lingua di visualizzazione di un'immagine di avvio indipendente dalla lingua.|  
|SMSTSLocalDataDrive|Specifica la posizione del computer di destinazione in cui vengono archiviati i file temporanei durante l'esecuzione della sequenza di attività.<br /><br /> Questa variabile deve essere impostata prima dell'inizio della sequenza di attività, ad esempio impostando una variabile raccolta. Dopo aver avviato la sequenza di attività, Configuration Manager definisce la variabile _SMSTSMDataPath.|  
|SMSTSMP|Usare questa variabile per specificare l'URL o l'indirizzo IP del punto di gestione di Configuration Manager.|  
|SMSTSPeerDownload|Usare questa variabile per consentire al client l'impiego della peer cache di Windows PE.<br /><br /> Esempio:<br /><br /> SMSTSPeerDownload = **TRUE** abilita questa funzionalità.|  
|SMSTSPeerRequestPort|Porta di rete personalizzata usata dalla cache peer di Windows PE per la trasmissione iniziale. La porta predefinita configurata nelle impostazioni client è la 8004.|  
|SMSTSPersistContent|usare questa variabile per mantenere temporaneamente il contenuto nella cache della sequenza di attività.|  
|SMSTSPostAction|Specifica un comando che viene eseguito al termine della sequenza di attività. Ad esempio, è possibile usare questa variabile per specificare uno script che abilita i filtri di scrittura nei dispositivi incorporati dopo che la sequenza di attività distribuisce un sistema operativo nel dispositivo.|  
|SMSTSPreferredAdvertID|Forza la sequenza di attività a eseguire una distribuzione di destinazione specifica sul computer di destinazione. Impostare questa variabile tramite un comando di preavvio dai supporti o da PXE. Se questa variabile viene impostata, la sequenza di attività esegue l'override di tutte le distribuzioni richieste.|  
|SMSTSPreserveContent|Questa variabile contrassegna il contenuto nella sequenza di attività per essere mantenuto nella cache del client di Configuration Manager dopo la distribuzione. Questa variabile è diversa da SMSTSPersistContent, che conserva il contenuto solo per la durata della sequenza di attività. SMSTSPersistContent usa la cache della sequenza di attività, SMSTSPreserveContent usa la cache del client Configuration Manager.<br /><br /> Esempio:<br /><br /> SMSTSPreserveContent = **TRUE** abilita questa funzionalità.|  
|SMSTSRebootDelay|Specifica il tempo di attesa in secondi prima del riavvio del computer. Se questa variabile è zero (0), il motore di esecuzione della sequenza di attività non visualizza una finestra di dialogo di notifica prima del riavvio.<br /><br /> Esempi:<br /><br /> **0**: non visualizza una notifica<br /><br /> **60**: visualizza una notifica per un minuto|  
|SMSTSRebootMessage|Specifica il messaggio da visualizzare nella finestra di dialogo di notifica di riavvio. Se questa variabile non è impostata, viene visualizzato un messaggio predefinito.<br /><br /> Esempio:<br /><br /> **La sequenza di attività sta riavviando il computer**.|  
|SMSTSRebootRequested|Indica che un riavvio è richiesto al termine del passaggio della sequenza di attività corrente. Se è necessario un riavvio, è sufficiente impostare questa variabile su **true**affinché il motore di esecuzione della sequenza di attività riavvii il computer dopo questo passaggio della sequenza di attività. Se il passaggio della sequenza di attività richiede un riavvio per completare l'azione, impostare questa variabile. Dopo il riavvio del computer, la sequenza di attività continua a essere eseguita dal passaggio successivo della sequenza di attività.|  
|SMSTSRetryRequested|Richiede un nuovo tentativo dopo il completamento del passaggio della sequenza di attività. Se questa variabile della sequenza di attività è impostata, anche **SMSTSRebootRequested** deve essere impostata su **true**. Dopo il riavvio del computer, il motore di esecuzione della sequenza di attività ripeterà lo stesso passaggio della sequenza di attività.|  
|SMSTSUDAUsers|Specifica gli utenti primari del computer di destinazione usando il formato seguente:<br /><br /> Esempio:<br /><br /> **dominio\utenter1, dominio\utente2, dominio\utente3**<br /><br /> Separare più utenti mediante una virgola (,). Per altre informazioni, vedere [Associate users with a destination computer](../get-started/associate-users-with-a-destination-computer.md) (Associare gli utenti a un computer di destinazione).|  
 
